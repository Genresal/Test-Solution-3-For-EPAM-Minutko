@model EMR.DataTables.DataTablesModel
@using System.Net;
@{
}
<script>
    //Reload function
    function Refresh() {
        @{@Model.Name}.ajax.reload();
        //If an aux function is exist call it then
        if (typeof AuxFunction === "function") {
            AuxFunction();
        }
    }
    //Reset the search field of Datatables
    function ResetToDefault() {
        @{@Model.Name}.search("").draw();
    }
    var @{@Model.Name};

$(document).ready(function () {
    $.fn.dataTable.moment("DD/MM/YYYY HH:mm:ss");
    $.fn.dataTable.moment("DD/MM/YYYY");

        @Model.Name = $("#@Model.Name").DataTable({
            @await Html.PartialAsync("_Table.Definition", Model)
        });
});

    function strtrunc(str, num) {
        if (str.length > num) {
            return str.slice(0, num) + "...";
        }
        else {
            return str;
        }
    }

    function edit(rowContext) {
        if (table) {
            var data = @{@Model.Name}.row($(rowContext).parents("tr")).data();
            alert("Example showing row edit with id: " + data["id"] + ", name: " + data["name"]);
        }
    }
</script>
